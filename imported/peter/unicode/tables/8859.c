#include <stdio.h>
#include <string.h>
#include <errno.h>

unsigned short bitmap[256] =
{
	0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff,
	0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff,
	0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff,
	0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff,
	0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff,
	0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff,
	0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff,
	0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff,
	0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff,
	0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff,
	0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff,
	0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff,
	0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff,
	0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff,
	0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff,
	0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff,
	000000, 000000, 000000, 000000, 000000, 000000, 000000, 000000,
	000000, 000000, 000000, 000000, 000000, 000000, 000000, 000000,
	000000, 000000, 000000, 000000, 000000, 000000, 000000, 000000,
	000000, 000000, 000000, 000000, 000000, 000000, 000000, 000000,
	0xf7ff, 0xf75f, 0xf7df, 0xf7df, 0xf7ff, 0xf7db, 0xf7df, 0xf7df,
	0xf7df, 0xf7df, 0xf7df, 0xf7df, 0xf7ff, 0xf7ff, 0xf79b, 0xf7df,
	0xf7df, 0xf7df, 0xf7df, 0xf7df, 0xf7df, 0xf7df, 0xf7df, 0xf7df,
	0xf7df, 0xf7df, 0xf7df, 0xf7ff, 0xf7df, 0xf7df, 0xf7db, 0xf77f,
	0xf75f, 0xf77f, 0xf77f, 0xf77b, 0xf77f, 0xf77f, 0xf77f, 0xf77f,
	0xf77f, 0xf77f, 0xf77f, 0xf77f, 0xf77f, 0xf77f, 0xf77f, 0xf77f,
	0xf77b, 0xf77f, 0xf73f, 0xf77f, 0xf77f, 0xf77f, 0xf77f, 0xf77f,
	0xf77f, 0xf77f, 0xf77f, 0xf35f, 0xf35f, 0xf35f, 0xf35f, 0xf7df,
	0xf7ff, 0xf7ff, 0xf7ff, 0xf7fb, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff,
	0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff, 0xf7ff,
	0xf7fb, 0xf7ff, 0xf7ff, 0xf7df, 0xf7df, 0xf7df, 0xf7df, 0xf7df,
	0xf7df, 0xf7df, 0xf7df, 0xf75f, 0xf35f, 0xf3df, 0xf3df, 0xf31f,
};

int main(void)
{
	FILE *fp[15];
	char filename[13];
	int i, j;

	for (i = 0; i < 16; i ++)
	{
		if (11 == i) i = 12;

		sprintf(filename, "8859-%d.html", 1 + i);
		fp[i] = fopen(filename, "w");
		if (!fp[i])
		{
			fprintf(stderr, "Cannot open %s: %s\n", filename, strerror(errno));
			return 1;
		}

		fprintf(fp[i],
		        "<html>\n <head>\n  <meta http-equiv=\"Content-Type\" "
		        "content=\"text/html;charset=iso-8859-%d\">\n"
		        "  <title>ISO 8859-%d</title>\n"
	            "  <style>.unused { background: #ccc; }</style>\n",
	            1 + i, 1 + i);

		if (i < 15)
			fprintf(fp[i],
			        "  <link rel=\"next\" href=\"8859-%d.html\">\n",
			        (10 == i ? 3 : 2) + i);
		if (i > 0)
			fprintf(fp[i],
			        "  <link rel=\"prev\" href=\"8859-%d.html\">\n",
			        (12 == i) ? i - 1 : i);

		fprintf(fp[i],
		        " </head>\n <body>\n"
		        "  <table>\n   <tr><th>  ");

		for (j = 0; j < 16; j ++)
		{
			fprintf(fp[i], "<th>%X", j);
		}
	}

	for (i = 0x20; i < 0x100; i ++)
	{
		for (j = 0; j < 16; j ++)
		{
			if (11 == j) j = 12;

			if (0 == (i & 0x0F))
			{
				fprintf(fp[j], "\n   <tr><th>%X", i);
			}
			fprintf(fp[j], (bitmap[i] & (1 << j))
			                 ? "<td>%c"
			                 : "<td class=unused>%c", (char) i);
		}
	}

	for (i = 0; i < 16; i ++)
	{
		if (11 == i) i = 12;

		fprintf(fp[i], "\n  </table>\n </body>\n</html>\n");
		fclose(fp[i]);
	}

	return 0;
}
