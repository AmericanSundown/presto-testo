<!doctype html>
<script>
onload = parent.t.step_func(function() {
  onload = null;
  document.open();
  document.write("<script async src='slice-and-dice.cgi?file=004-1.js&parts=d1'><\/script>");
  document.write("<script>parent.t.step(function() {parent.assert_equals(document.readyState, 'loading'); parent.events.push('script')})<\/script>");

  addEventListener("DOMContentLoaded", parent.t.step_func(function() {
    parent.events.push("DOMContentLoaded");
  }), false);
  setTimeout(parent.t.step_func(function() {
    parent.assert_array_equals(parent.events, ["script", "DOMContentLoaded", "async"]);
    parent.t.done()
  }), 2000);
  document.close();
});
</script>
