<!DOCTYPE html>
<title>Blob-013-001-Readonly check: Blob.slice is readonly or not.</title>
<link rel="stylesheet" href="../resources/style.css"/>
<script src="../resources/lib.js"></script>
<script>
onload = function() {
    try {
        var t_file = document.getElementById("t_file");
        t_file.onchange = function() {
            try {
                var t_blob = t_file.files[0].slice(0, 100, "text/html");
                var oval = t_blob.slice;
                var nval;
                if ((oval === undefined) || (oval === null)) nval = 9999;
                else nval = null;
                try {
                    t_blob.slice = nval;
                    if (t_blob.slice !== oval) {
                        setResult(1, "Blob.slice is not readonly");
                    }
                } catch(e) {
                    setResult(0, "Blob.slice should not be readonly but an exception was thrown on changing it, Got: " + e);
                }
            } catch(e) {
                setResult(0, "Threw exception: " + e);
            }
        }
    } catch(e) {
        setResult(0, "Threw: " + e);
    }
}
</script>
<body>
<p>Please select "blob.txt" from resources folder to test: <input type='file' id='t_file' name='t_file' /></p>
</body>
