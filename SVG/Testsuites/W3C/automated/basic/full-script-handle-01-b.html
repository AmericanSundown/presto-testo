<?xml version="1.0" encoding="UTF-8"?>
 <!DOCTYPE html PUBLIC  "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>Tests basic mouse event handler and DOM manipulation through ECMA script binding</title>

<script>
// === Constants ===

// In gogi, the body starts a bit down (40 pixels normally, 
// 0 pixels run in SPARTAN mode (-fullscreen and -screenshot). 
// This value has to be added to all Y coordinates if the 
// TC is going to work both in and out of SPARTAN. 

GogiBodyTop = window.screenTop; 

// === Utilitity functions ===

function firemouseevent() {
  //alert();
  if (typeof(opera.generateMouseMove) == 'undefined') {
    var body = document.getElementsByTagName('body')[0];
    body.innerHTML = "Not tested: This test case requires the generateMouseMove function." + body.innerHTML;
  }
  else 
  {
    testimage = document.getElementById("testimage");
    x = 80;
    y = GogiBodyTop + 200;
    opera.generateMouseMove(x, y);
    opera.generateMouseDown(x, y, 1);
    opera.generateMouseUp(x, y, 1);
    //alert();
  }
}

window.addEventListener("load", function() { setTimeout(firemouseevent, 100) }, false);

</script>
</head>

<noscript>
Not tested: This test case requires Javascript to be enabled.
</noscript>

<body>
<table>
<tr>
<td align="center">SVG Image</td>
</tr>
<tr>
<td align="right">
<object id=testimage data="../../svggen/script-handle-01-b.svg" width="480" height="360" type="image/svg+xml"/></object>
</td>
</tr>
</table>
<p>

Pass if a green text in the center of the image says so. 
</p>
</body>
</html>