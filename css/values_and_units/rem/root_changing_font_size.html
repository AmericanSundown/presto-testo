<!DOCTYPE HTML>
<html>
<head>
   <title>Rem unit on non-root element when root changes font size</title>
   <style>
      html {
         font-size: 16px;
      }
      p {
         font-size: 2rem;
      }
   </style>
   <script>
      onload = function() {
         var p = document.getElementsByTagName('p')[0];
         var before = getComputedStyle(p, null).fontSize;
         document.documentElement.style.fontSize = '20px';
         var after = getComputedStyle(p, null).fontSize;
         var passed = (before == '32px' && after == '40px');
         p.firstChild.data = (passed ? 'PASS' : 'FAIL (got ' + before +' then '
                                                + after + ')');
         try{top.opener.rr(passed);}catch(e){}
      }
   </script>
</head>
<body>
   <p>Not tested (JavaScript required)</p>
</body>
</html>
