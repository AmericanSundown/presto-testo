<!DOCTYPE html>
<html>
<head>
<title>visibility: collapse</title>
<style type="text/css">
table {
	background: red;
	border-spacing: 0;
	table-layout: fixed;
}
p~*, p~* * {
	font-family: ahem;
	font-size: 1em;
	font-weight: normal;
	line-height: 1em;
	padding: 0;
	border: none;
}
tr>* {
	border: 1em solid blue;
}
tbody>*>*:first-child+* {
	border: 1em solid red;
}
th, td:first-child, td:last-child {
	background: yellow;
}
th:first-child+th {
	background: red;
}
colgroup, colgroup+col {
 	visibility: collapse;
}
</style>
</head>

<body>
<p><em>Ahem font required by this test.</em> There should be no red.</p>

<table>
<col>
<colgroup>
	<col>
</colgroup>
<col>
<thead>
	<tr>
		<th>x</th>
		<th>x</th>
		<th>x</th>
	</tr>
<tfoot>
	<tr>
		<th>x</th>
		<th>x</th>
		<th>x</th>
	</tr>
</tfoot>
<tbody>
	<tr>
		<td>x</td>
		<td>
			<table>
			<col>
			<colgroup>
				<col>
			</colgroup>
			</col>
			<thead>
				<tr>
					<th>x</th>
					<th>x</th>
					<th>x</th>
				</tr>
			</thead>
			<tfoot>
				<tr>
					<th>x</th>
					<th>x</th>
					<th>x</th>
				</tr>
			</tfoot>
			<tbody>
				<tr>
					<td>x</td>
					<td>x</td>
					<td>x</td>
				</tr>
			</tbody>
			</table>
		</td>
		<td>x</td>
	</tr>
</tbody>
</table>

</body>
</html>
