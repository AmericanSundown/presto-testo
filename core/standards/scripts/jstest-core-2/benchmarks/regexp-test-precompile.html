<!-- -*- mode: c++ -*-

     Regular expression benchmark: execute RegExp.test repeatedly,
     compiling the regex once before the test starts.

     Adapted from http://umsu.de/jsperf/index2.php
     2004-11-11 / lth -->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<title>RegExp benchmark 2</title>
</head>
<body>
<script src="reportresult.js"></script>
<script>
function regexp_test(loops) 
{
    var re = new RegExp('(\\d+).\\s{5}[abc]','g');
    for (var i=0; i<loops; i++)
	re.test('abcdefgh 12378 9a bcd     def');
    return "Done";
}

var before = new Date();
var result = regexp_test(10000);
var after = new Date();

document.writeln( new Array( result, after - before ) + '<br>' );

reportresult( "test pre-compiled regexp against string 10000 times", 
	      after-before );
</script>
</body>
</html>

