<!doctype html>
<title>Reflection of media preload content attribute when it is removed using removeAttribute()</title>
<p>FAIL (script didn't run)</p>
<audio preload="auto"></audio>
<video preload="auto"></video>
<script>
var passed = false;
var a = document.getElementsByTagName('audio')[0];
var v = document.getElementsByTagName('video')[0];
a.removeAttribute('preload');
v.removeAttribute('preload');
var passed = a.preload == 'metadata' && a.preload == 'metadata';
document.getElementsByTagName('p')[0].firstChild.data = passed ? 'PASS' : 'FAIL';
try{top.opener.rr(passed)}catch(e){}
</script>
