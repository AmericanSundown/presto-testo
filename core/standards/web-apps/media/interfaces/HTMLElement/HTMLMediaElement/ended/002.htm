<!doctype html>
<title>getting HTMLMediaElement.ended</title>
<p>FAIL (script didn't run)</p>
<video></video><audio></audio>
<script>
var video = document.getElementsByTagName('video')[0];
var audio = document.getElementsByTagName('audio')[0];
var passed = false;
if (video.ended == false && audio.ended == false) // networkState is less than LOADED_METADATA
  passed = true;
document.getElementsByTagName('p')[0].firstChild.data = passed ? 'PASS' : 'FAIL';
try{top.opener.rr(passed)}catch(e){}
</script>
