<!doctype html>
<title>HTMLMediaElement.buffered.end should throw if the index is out of range</title>
<p>FAIL (script didn't run)</p>
<audio></audio><video></video>
<script>
var passed = false;
var a = document.getElementsByTagName('audio')[0];
var v = document.getElementsByTagName('video')[0];
try {
    try {
    var end = a.buffered.end(0);
    }
    catch (e) {
    passed =  e.code == DOMException.INDEX_SIZE_ERR;
    }
    if (passed) {
    try {
        var end = v.buffered.end(0);
    }
    catch (e) {
        passed = e.code == DOMException.INDEX_SIZE_ERR;
    }
    }
}
catch (e) {}
document.getElementsByTagName('p')[0].firstChild.data = passed ? 'PASS' : 'FAIL';
try{top.opener.rr(passed)}catch(e){}
</script>
