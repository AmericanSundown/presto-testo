<!DOCTYPE html>
<title>XHR - retrieve HTML document: document.contentType === 'application/xml'</title>
<p>FAIL: script did not run.</p>
<script type="text/javascript" src="../runner.js"></script>
<script>
var xhr = new XMLHttpRequest();
xhr.open("GET", "../resources/blob.xml");
xhr.responseType = "document";
xhr.onreadystatechange = function(response) {
  if (xhr.readyState === 4) {  
    if (xhr.status === 200) { 
      var doc = xhr.responseXML;
      if(doc.contentType === "application/xml") {
        setResult(true);
      } else {
        setResult(false);
      } 
    }  
  }
};
xhr.send(null);

function setResult(passed) {
  if(passed === true) {
    document.getElementsByTagName("p")[0].innerHTML = "PASS";
  } else {
    document.getElementsByTagName("p")[0].innerHTML = "FAIL";
  }
  runnerResult(passed);
}
</script>