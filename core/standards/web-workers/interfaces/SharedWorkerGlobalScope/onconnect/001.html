<!--
var passed = false;
try {
  onconnect = 1;
} catch(e) {
  passed = true;
}
addEventListener('connect', function(e) {
  e.ports[0].postMessage(passed);
}, false);
/*
-->
<!doctype html>
<title>setting onconnect</title>
<script src="/resources/jsframework.js"></script>
<script>
test(function() {
  var i = 0;
  var w1 = new SharedWorker('#', '');
  test(function(e) {
    assertTrue(e.data);
  }, w1.port, 'message');
  w1.port.start();
});
</script>
<!--
*/
//-->
