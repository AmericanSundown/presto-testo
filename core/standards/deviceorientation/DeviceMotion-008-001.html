<!DOCTYPE html>
<title>DeviceMotion-008-001-Readonly check: DeviceMotion.rotationRate is readonly or not.</title>
<link rel="stylesheet" href="resources/style.css"/>
<script src="resources/lib.js"></script>
<script>
onload = function() {
    try {
        window.addEventListener("devicemotion", function dmhndlr(dmevt) {
            window.removeEventListener("devicemotion", dmhndlr, false);
            var oval = dmevt.rotationRate;
            var nval;
            if ((oval === undefined) || (oval === null)) nval = Infinity;
            else nval = null;
            try {
                dmevt.rotationRate = nval;
                if (dmevt.rotationRate !== oval) {
                    setResult(0, "DeviceMotion.rotationRate  is not readonly, value now is: " + dmevt.rotationRate);
                } else {
                    setResult(1, "DeviceMotion.rotationRate is readonly.");
                }
            } catch(e) {
                if (dmevt.rotationRate !== oval) {
                    setResult(0, "DeviceMotion.rotationRate  is not readonly, value now is: " + dmevt.rotationRate);
                } else {
                    setResult(1, "DeviceMotion.rotationRate is readonly.");
                }
            }
        },
        false);
    } catch(e) {
        setResult(0, "Threw: " + e);
    }
}
</script>
<body>

</body>