<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
  <head>
    <title>Date parsing: Timezones</title>
  </head>
<body>
<script type="text/javascript" src="helpFiles/verify.js"></script>

<pre>
<script>

start_group("Single hour positive offset")
test_date("1980/01/01 12:00:00 +1", "Tue Jan 01", "1980", "12:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 +2", "Tue Jan 01", "1980", "11:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 +3", "Tue Jan 01", "1980", "10:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 +4", "Tue Jan 01", "1980", "09:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 +5", "Tue Jan 01", "1980", "08:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 +6", "Tue Jan 01", "1980", "07:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 +7", "Tue Jan 01", "1980", "06:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 +8", "Tue Jan 01", "1980", "05:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 +9", "Tue Jan 01", "1980", "04:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 +10", "Tue Jan 01", "1980", "03:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 +11", "Tue Jan 01", "1980", "02:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 +12", "Tue Jan 01", "1980", "01:00:00 GMT+0100", "1980");
test_date("3/24/79 +12 14:00:00", "Sat Mar 24", "1979", "03:00:00 GMT+0100", "1979");
test_date("1980/01/01 12:00:00 +13", "Tue Jan 01", "1980", "00:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 +14", "Mon Dec 31", "1979", "23:00:00 GMT+0100", "1979");
test_date("1980/01/01 12:00:00 +15", "Mon Dec 31", "1979", "22:00:00 GMT+0100", "1979");
test_date("1980/01/01 12:00:00 +16", "Mon Dec 31", "1979", "21:00:00 GMT+0100", "1979");
test_date("1980/01/01 12:00:00 +17", "Mon Dec 31", "1979", "20:00:00 GMT+0100", "1979");
test_date("1980/01/01 12:00:00 +18", "Mon Dec 31", "1979", "19:00:00 GMT+0100", "1979");
test_date("1980/01/01 12:00:00 +19", "Mon Dec 31", "1979", "18:00:00 GMT+0100", "1979");
test_date("1980/01/01 12:00:00 +20", "Mon Dec 31", "1979", "17:00:00 GMT+0100", "1979");
test_date("1980/01/01 12:00:00 +21", "Mon Dec 31", "1979", "16:00:00 GMT+0100", "1979");
test_date("1980/01/01 12:00:00 +22", "Mon Dec 31", "1979", "15:00:00 GMT+0100", "1979");
test_date("1980/01/01 12:00:00 +23", "Mon Dec 31", "1979", "14:00:00 GMT+0100", "1979");

start_group("Single hour negative offset")
test_date("1980/01/01 12:00:00 -1", "Tue Jan 01", "1980", "14:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -2", "Tue Jan 01", "1980", "15:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -3", "Tue Jan 01", "1980", "16:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -4", "Tue Jan 01", "1980", "17:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -5", "Tue Jan 01", "1980", "18:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -6", "Tue Jan 01", "1980", "19:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -7", "Tue Jan 01", "1980", "20:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -8", "Tue Jan 01", "1980", "21:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -9", "Tue Jan 01", "1980", "22:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -10", "Tue Jan 01", "1980", "23:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -11", "Wed Jan 02", "1980", "00:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -12", "Wed Jan 02", "1980", "01:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -13", "Wed Jan 02", "1980", "02:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -14", "Wed Jan 02", "1980", "03:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -15", "Wed Jan 02", "1980", "04:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -16", "Wed Jan 02", "1980", "05:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -17", "Wed Jan 02", "1980", "06:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -18", "Wed Jan 02", "1980", "07:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -19", "Wed Jan 02", "1980", "08:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -20", "Wed Jan 02", "1980", "09:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -21", "Wed Jan 02", "1980", "10:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -22", "Wed Jan 02", "1980", "11:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -23", "Wed Jan 02", "1980", "12:00:00 GMT+0100", "1980");

start_group("Minute only positive offsets");
test_date("1980/01/01 12:00:00 +24", "Tue Jan 01", "1980", "12:36:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 +25", "Tue Jan 01", "1980", "12:35:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 +59", "Tue Jan 01", "1980", "12:01:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 +60", "Tue Jan 01", "1980", "12:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 +61", "Tue Jan 01", "1980", "11:59:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 +99", "Tue Jan 01", "1980", "11:21:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 +100", "Tue Jan 01", "1980", "12:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 +0199", "Tue Jan 01", "1980", "10:21:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 +1000", "Tue Jan 01", "1980", "03:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 +10000", "Fri Dec 28", "1979", "09:00:00 GMT+0100", "1979");
test_date("1980/01/01 12:00:00 +100000", "Tue Nov 20", "1979", "21:00:00 GMT+0100", "1979");

start_group("Minute only negative offset");
test_date("1980/01/01 12:00:00 -24", "Tue Jan 01", "1980", "13:24:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -25", "Tue Jan 01", "1980", "13:25:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -59", "Tue Jan 01", "1980", "13:59:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -60", "Tue Jan 01", "1980", "14:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -61", "Tue Jan 01", "1980", "14:01:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -99", "Tue Jan 01", "1980", "14:39:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -100", "Tue Jan 01", "1980", "14:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -0199", "Tue Jan 01", "1980", "15:39:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -1000", "Tue Jan 01", "1980", "23:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -10000", "Sat Jan 05", "1980", "17:00:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -100000", "Tue Feb 12", "1980", "05:00:00 GMT+0100", "1980");

start_group("Timezone with positive colon specification, expected results");
test_date("1980/01/01 12:00:00 +0:", "Tue Jan 01", "1980", "13:00:00 GMT+0100", "1980"); // OK: 12:00 GMT
test_date("1980/01/01 12:00:00 +29:", "Tue Jan 01", "1980", "12:31:00 GMT+0100", "1980"); // OK: 12:00 at 29 min east
test_date("1980/01/01 12:00:00 +1:29", "Tue Jan 01", "1980", "11:31:00 GMT+0100", "1980"); // OK: 12:00 at 89 min east
test_date("1980/01/01 12:00:00 +23:59", "Mon Dec 31", "1979", "13:01:00 GMT+0100", "1979"); // OK: 12:00 at (24*60-1) min east

start_group("Timezone with colon specification, not sensible results, IE/FF compatibility");
test_date("1980/01/01 12:00:00 +1:", "Tue Jan 01", "1980", "12:00:00 GMT+0100", "1980"); // OK: 12:00 at 60 min east
test_date("1980/01/01 12:00:00 +29:", "Tue Jan 01", "1980", "12:31:00 GMT+0100", "1980"); // OK: 12:00 at 29 min east
test_date("1980/01/01 12:00:00 -1:", "Tue Jan 01", "1980", "14:00:00 GMT+0100", "1980"); // OK: 12:00 at 60 min west
test_date("1980/01/01 12:00:00 -29:", "Tue Jan 01", "1980", "13:29:00 GMT+0100", "1980"); // OK: 12:00 at 29 min west

start_group("Timezone with negative colon specification, expected results");
test_date("1980/01/01 12:00:00 -0:", "Tue Jan 01", "1980", "13:00:00 GMT+0100", "1980"); // OK: 12:00 GMT
test_date("1980/01/01 12:00:00 -1:29", "Tue Jan 01", "1980", "14:29:00 GMT+0100", "1980"); // OK: 12:00 at 89 min east
test_date("1980/01/01 12:00:00 -23:59", "Wed Jan 02", "1980", "12:59:00 GMT+0100", "1980"); // OK: 12:00 at (24*60-1) min east

start_group("Unsupported wierd colon specification in FF (mm+mm)");
test_date("1980/01/01 12:00:00 +24:00", "NaN", "", "", "NaN"); // 24 min east
test_date("1980/01/01 12:00:00 +30:01", "NaN", "", "", "NaN"); // 31 min east
test_date("1980/01/01 12:00:00 +99:59", "NaN", "", "", "NaN"); // 158 min east

test_date("1980/01/01 12:00:00 -24:00", "NaN", "", "", "NaN"); // 24 min west
test_date("1980/01/01 12:00:00 -30:01", "NaN", "", "", "NaN"); // 31 min west
test_date("1980/01/01 12:00:00 -99:59", "NaN", "", "", "NaN"); // 158 min west

start_group("Unsupported weirder colon specification in FF (hhmm:mm)");
test_date("1980/01/01 12:00:00 +100:01", "NaN", "", "", "NaN"); // 61 min east
test_date("1980/01/01 12:00:00 -100:01", "NaN", "", "", "NaN"); // 61 min west

start_group("Positive colon timezone format +0:mm (which is incorrectly negated in FF)");
test_date("1980/01/01 12:00:00 +0:1", "Tue Jan 01", "1980", "12:59:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 +0:29", "Tue Jan 01", "1980", "12:31:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 +0:59", "Tue Jan 01", "1980", "12:01:00 GMT+0100", "1980");
test_date("2007/10/01 12:15:02 +00:01", "Mon Oct 01","2007","14:14:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +00:02", "Mon Oct 01","2007","14:13:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +0:03", "Mon Oct 01","2007","14:12:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +00:04", "Mon Oct 01","2007","14:11:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +00:05", "Mon Oct 01","2007","14:10:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +00:06", "Mon Oct 01","2007","14:09:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +00:07", "Mon Oct 01","2007","14:08:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +00:08", "Mon Oct 01","2007","14:07:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +00:09", "Mon Oct 01","2007","14:06:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +00:10", "Mon Oct 01","2007","14:05:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +00:11", "Mon Oct 01","2007","14:04:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +00:12", "Mon Oct 01","2007","14:03:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +00:13", "Mon Oct 01","2007","14:02:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +00:14", "Mon Oct 01","2007","14:01:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +00:15", "Mon Oct 01","2007","14:00:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +00:16", "Mon Oct 01","2007","13:59:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +00:17", "Mon Oct 01","2007","13:58:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +00:18", "Mon Oct 01","2007","13:57:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +00:19", "Mon Oct 01","2007","13:56:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +00:20", "Mon Oct 01","2007","13:55:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +00:21", "Mon Oct 01","2007","13:54:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +00:22", "Mon Oct 01","2007","13:53:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +00:23", "Mon Oct 01","2007","13:52:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +00:30", "Mon Oct 01","2007","13:45:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +00:40", "Mon Oct 01","2007","13:35:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +00:50", "Mon Oct 01","2007","13:25:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +00:59", "Mon Oct 01","2007","13:16:02 GMT+0200","2007");
test_date("2007/10/01 12:15:02 +00:60", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +00:99", "NaN","","","NaN");

start_group("Opera will not accept timezone specifications in the format: '+/-hhmm:mm");
test_date("2007/10/01 12:15:02 +0045:34", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +1245:20", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +1345:31", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +1545:35", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +1645:59", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +2745:30", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +2845:45", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +1045:12", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +0145:10", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +0245:08", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +0345:09", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +0445:34", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +0545:34", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +0645:34", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +0745:34", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +0845:34", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +0945:34", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +1445:34", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +2245:34", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +3445:34", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +1145:34", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +3445:34", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +9945:34", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +8945:34", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +0045:34", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +0045:34", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +0045:34", "NaN","","","NaN");
test_date("2007/10/01 12:15:02 +0045:34", "NaN","","","NaN");

start_group("Negative colon timezone format -0:mm (which is correct in FF)");
test_date("1980/01/01 12:00:00 -0:1", "Tue Jan 01", "1980", "13:01:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -0:29", "Tue Jan 01", "1980", "13:29:00 GMT+0100", "1980");
test_date("1980/01/01 12:00:00 -0:59", "Tue Jan 01", "1980", "13:59:00 GMT+0100", "1980");

start_group("Illegal timezone parsing for hh:mm TZ format");
test_date("1980/01/01 12:00:00 +0:60", "NaN", "", "", "NaN");
test_date("1980/01/01 12:00:00 -0:60", "NaN", "", "", "NaN");
test_date("1980/01/01 12:00:00 +1:60", "NaN", "", "", "NaN");
test_date("1980/01/01 12:00:00 -1:60", "NaN", "", "", "NaN");
test_date("1980/01/01 12:00:00 +23:60", "NaN", "", "", "NaN");
test_date("1980/01/01 12:00:00 -23:60", "NaN", "", "", "NaN");
test_date("1980/01/01 12:00:00 -22:60", "NaN", "", "", "NaN");
test_date("1980/01/01 12:00:00 -21:60", "NaN", "", "", "NaN");
test_date("1980/01/01 12:00:00 -24:59", "NaN", "", "", "NaN");
test_date("01/12/2009 00:00:00 +60:60", "NaN", "", "", "NaN");

start_group("Different position of timezone");
test_date("1979 Mar 24 +0100 14:00:00", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("1979 Mar +0100 24 14:00:00", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("1979 Mar +0100 14:00:00 24", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("1979 Mar 14:00:00 24 +0100 ", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("1979 Mar 24 14:00:00 +0100", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("1979 24 Mar +0100 14:00:00", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("1979 14:00:00 Mar 24 +0100 ", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("1979 +0100 Mar 24 14:00:00", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("1979 -0100 Mar 24 14:00:00", "Sat Mar 24", "1979", "16:00:00 GMT+0100", "1979");
test_date("1979 Mar -0100 24 14:00:00", "Sat Mar 24", "1979", "16:00:00 GMT+0100", "1979");
test_date("1979 Mar 24 -0100 14:00:00", "Sat Mar 24", "1979", "16:00:00 GMT+0100", "1979");
test_date("1979 -0100 Mar 24 14:00:00", "Sat Mar 24", "1979", "16:00:00 GMT+0100", "1979");
test_date("1979 Mar -0100 24 14:00:00", "Sat Mar 24", "1979", "16:00:00 GMT+0100", "1979");
test_date("79 -0105 24 Mar 14:00:00", "Sat Mar 24", "1979", "16:05:00 GMT+0100", "1979");
test_date("79 24 -0105 Mar 14:00:00", "Sat Mar 24", "1979", "16:05:00 GMT+0100", "1979");
test_date("79 24 Mar -0105 14:00:00", "Sat Mar 24", "1979", "16:05:00 GMT+0100", "1979");
test_date("Mar 1979 24 +0100 14:00:00", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("Mar 24 1979 +0100 14:00:00", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("Mar 24 +0105 1979 14:00:00", "Sat Mar 24", "1979", "13:55:00 GMT+0100", "1979"); // TZ too early (before year without GMT)
test_date("Mar 14:00:00 +0100 24 1979", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("Mar 24 14:00:00 +0100 1979", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("Mar 24 +0100 1979 14:00:00", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("Mar +0100 24 14:00:00 1979", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("Mar +0100 14:00:00 24 1979", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("Mar 79 +0100 24 14:00:00", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("Mar 79 -0105 24 14:00:00", "Sat Mar 24", "1979", "16:05:00 GMT+0100", "1979");
test_date("Mar 79 24 -0105 14:00:00", "Sat Mar 24", "1979", "16:05:00 GMT+0100", "1979");
test_date("Mar +0100 79 24 14:00:00", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("Mar -0105 79 24 14:00:00", "Sat Mar 24", "1979", "16:05:00 GMT+0100", "1979");
test_date("Mar 24 1979 GMT+0105 14:00:00", "Sat Mar 24", "1979", "13:55:00 GMT+0100", "1979"); // TZ after year
test_date("Mar 24 1979GMT+0105 14:00:00", "Sat Mar 24", "1979", "13:55:00 GMT+0100", "1979");
test_date("Mar 24 1979 +0105 14:00:00", "Sat Mar 24", "1979", "13:55:00 GMT+0100", "1979");
test_date("Mar 24 GMT+0105 1979 14:00:00", "Sat Mar 24", "1979", "13:55:00 GMT+0100", "1979"); // TZ before year, but has GMT
test_date("Mar 24 +0105 1979 14:00:00", "Sat Mar 24", "1979", "13:55:00 GMT+0100", "1979"); // TZ too early (before year without GMT)
test_date("Mar 24 GMT+0105 1979 14:00:00", "Sat Mar 24", "1979", "13:55:00 GMT+0100", "1979");
test_date("Mar 24 1979 GMT+0105 14:00:00", "Sat Mar 24", "1979", "13:55:00 GMT+0100", "1979");
test_date("Mar 24GMT+0105 1979 14:00:00", "Sat Mar 24", "1979", "13:55:00 GMT+0100", "1979");
test_date("Thu Jan 01 1970 -0500 12:00:00", "Thu Jan 01", "1970", "18:00:00 GMT+0100", "1970");
test_date("Thu Jan 01 1970 12:00:00 -0500", "Thu Jan 01", "1970", "18:00:00 GMT+0100", "1970");
test_date("Thu Jan 01 -0500 1970 12:00:00", "Thu Jan 01", "1970", "18:00:00 GMT+0100", "1970");
test_date("Thu Jan -0500 01 1970 12:00:00", "Thu Jan 01", "1970", "18:00:00 GMT+0100", "1970");
test_date("Thu -0500 Jan 01 1970  12:00:00", "Thu Jan 01", "1970", "18:00:00 GMT+0100", "1970");
test_date("24 Mar 1979 +0100 14:00:00", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("24 Mar +0100 1979 14:00:00", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("24 +0100 Mar 1979 14:00:00", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("24 Mar +0100 14:00:00 1979", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("24 Mar 1979 +0100 14:00:00", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("+0100 1979 Mar 24 14:00:00", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("+0100 Mar 24 1979 14:00:00", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("+0100 03/24/1979 14:00:00", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("+0100 14:00:00 03/24/1979", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("+0100 24 03 1979 14:00:00", "Wed Dec 03", "1980", "14:00:00 GMT+0100", "1980");
test_date("-0500 Thu Jan 01 1970  12:00:00", "Thu Jan 01", "1970", "18:00:00 GMT+0100", "1970");
test_date("+0105 3/24/79 14:00:00", "Sat Mar 24", "1979", "13:55:00 GMT+0100", "1979"); // TZ too early (without GMT)
test_date("+0500 1/1/70 12:00:00", "Thu Jan 01", "1970", "08:00:00 GMT+0100", "1970");
test_date("GMT+0105 3/24/79 14:00:00", "Sat Mar 24", "1979", "13:55:00 GMT+0100", "1979"); // TZ very early, but has GMT
test_date("-0500 1/1/70 12:00:00", "Thu Jan 01", "1970", "18:00:00 GMT+0100", "1970");
test_date("14:00:00 1979 Mar 24 +0100 ", "Sat Mar 24", "1979", "14:00:00 GMT+0100", "1979");
test_date("1/1/70 12:00:00 GMT-0500", "Thu Jan 01", "1970", "18:00:00 GMT+0100", "1970");
test_date("1/1/70 12:00:00 -0500", "Thu Jan 01", "1970", "18:00:00 GMT+0100", "1970");
test_date("1/1/70 12:00: -0500", "Thu Jan 01", "1970", "18:00:00 GMT+0100", "1970");
test_date("1/1/70 -0500 12:00:00", "Thu Jan 01", "1970", "18:00:00 GMT+0100", "1970");
test_date("3/24/79 14:00:00 GMT+0105", "Sat Mar 24", "1979", "13:55:00 GMT+0100", "1979"); // Base date
test_date("3/24/79 14:00:00GMT+0105", "Sat Mar 24", "1979", "13:55:00 GMT+0100", "1979"); // Without space
test_date("3/24/79 14:00:00GMT-0105", "Sat Mar 24", "1979", "16:05:00 GMT+0100", "1979"); // Without space
test_date("3/24/79 14:00:00 +0105", "Sat Mar 24", "1979", "13:55:00 GMT+0100", "1979"); // Without GMT
test_date("3/24/79 14:00:00 GMT-0105", "Sat Mar 24", "1979", "16:05:00 GMT+0100", "1979"); // Without space
test_date("3/24/79 14:00:00 -0105", "Sat Mar 24", "1979", "16:05:00 GMT+0100", "1979"); // Without GMT
test_date("3/24/79 GMT+0105 14:00:00", "Sat Mar 24", "1979", "13:55:00 GMT+0100", "1979"); // TZ earlier
test_date("3/24/79 +0105 14:00:00", "Sat Mar 24", "1979", "13:55:00 GMT+0100", "1979");
test_date("3/24/79 GMT+0105 14:00:00", "Sat Mar 24", "1979", "13:55:00 GMT+0100", "1979"); // TZ earlier
test_date("3/24/79GMT+0105 14:00:00", "Sat Mar 24", "1979", "13:55:00 GMT+0100", "1979");

start_group("Invalid date: without space before TZ");
test_date("Mar 24 1979+0105 14:00:00", "NaN", "", "", "NaN");
test_date("Mar 24+0105 1979 14:00:00", "NaN", "", "", "NaN"); // TZ too early (before year without GMT)
test_date("3/24/79 14:00:00-0105",  "NaN", "", "", "NaN"); // Without space and GMT
test_date("01/12/2009 23:00:00+5959", "NaN", "", "", "NaN");
test_date("1/1/70 12:00:+0500 ","NaN", "", "", "NaN");
test_date("1/1/70 12:00:00-0500","NaN", "", "", "NaN");
test_date("3/24/79 14:00:00+0105", "NaN", "", "", "NaN"); // Without space and GMT
test_date("1/1/70 12:00:-0500", "NaN", "", "", "NaN");
test_date("3/24/79+0105 14:00:00",  "NaN", "", "", "NaN");
test_date("3+0105/24/79 14:00:00",  "NaN", "", "", "NaN");
test_date("3/+010524/79 14:00:00",  "NaN", "", "", "NaN");
test_date("3/24+0105/79 14:00:00",  "NaN", "", "", "NaN");
test_date("3/24/+010579 14:00:00",  "NaN", "", "", "NaN");
test_date("3/24/79 +010514:00:00",  "NaN", "", "", "NaN");


test_summary();

</script>
</pre>
</body>
</html>
